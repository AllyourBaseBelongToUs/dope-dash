# Phase 5: Mission Control Interface Design

**Status:** Design Complete - Ready for Implementation
**Date:** 2026-01-30
**Phase:** 5 of 6 (Mission Control)
**Dependencies:** Phases 1-4 must be complete

---

## Executive Summary

**Mission Control** is the unified command and control interface for the Ralph Monitoring Dashboard. It goes far beyond simple start/pause controls, providing comprehensive project portfolio management with full command capabilities, bulk operations, agent assignment, and complete state tracking.

**Key Philosophy:** "Mission Control for your autonomous agent fleet" - like NASA Mission Control, but for AI agents managing multiple projects simultaneously.

---

## Table of Contents

1. [UI Layout & Dashboard Design](#ui-layout--dashboard-design)
2. [Per-Project Controls](#per-project-controls)
3. [Command Sending System](#command-sending-system)
4. [Bulk Operations](#bulk-operations)
5. [Command History](#command-history)
6. [Agent Management](#agent-management)
7. [Project State Machine](#project-state-machine)
8. [API Endpoint Design](#api-endpoint-design)
9. [Integration Architecture](#integration-architecture)
10. [Implementation Roadmap](#implementation-roadmap)

---

## 1. UI Layout & Dashboard Design

### 1.1 Main Mission Control Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ Mission Control                                         [Ralph] [Claude] [All]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Connection: â— Live (WebSocket)  |  Mode: Real-time  |  Last Update: 2s ago   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Filter: [All Projects] [Running] [Paused] [Completed] [Failed]       â”‚  â”‚
â”‚  â”‚  Sort: [Name â–¼] [Status] [Progress] [Agent] [Last Activity]          â”‚  â”‚
â”‚  â”‚  Search: [â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”]                                           â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ nonprofit-matcher                              Ralph    Running â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Progress: 3/11 specs (27%)  |  Current: CR-02-typography (67%)   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Agent: Ralph (gemini-2.5-flash)  |  Started: 2h 34m ago          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ [â¸ Pause] [â–¶ Resume] [â­ Skip] [â¹ Stop] [ğŸ“Š Details] [â‹®]    â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ project-alpha-prototype                         Claude    Paused â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Progress: 8/15 specs (53%)  |  Paused at: CR-08-api-integration  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Agent: Claude (claude-opus-4.5)  |  Paused: 45m ago              â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ [â–¶ Resume] [â­ Skip] [ğŸ”„ Restart] [ğŸ“Š Details] [â‹®]          â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ api-gateway-refactor                            Cursor    Failed â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Progress: 2/7 specs (29%)  |  Failed: CR-03-auth-middleware      â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Agent: Cursor (agent-x)  |  Failed: 1h 12m ago                   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Error: Authentication middleware tests failed (3/10 tests)        â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ [â–¶ Resume] [ğŸ”„ Retry] [ğŸ” Logs] [ğŸ› Debug] [ğŸ“Š Details] [â‹®]â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ dashboard-analytics                             Ralph    Completeâ”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Progress: 11/11 specs (100%)  |  Duration: 3h 24m                â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Agent: Ralph (gemini-2.5-flash)  |  Completed: Yesterday         â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Cost: $0.47  |  Success Rate: 91% (10/11 specs)                   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ [ğŸ”„ Rebuild] [ğŸ“„ Report] [ğŸ—‘ï¸ Archive] [ğŸ“Š Details] [â‹®]      â”‚ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Bulk Actions (0 selected)                                                â”‚  â”‚
â”‚  â”‚ [â˜‘ Select All]  [â¸ Pause Selected]  [â–¶ Resume Selected]               â”‚  â”‚
â”‚  â”‚ [â¹ Stop Selected]  [ğŸ”„ Reassign Agent]  [ğŸ“Š Compare Selected]        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Quick Command (Ctrl+K)                                                   â”‚  â”‚
â”‚  â”‚ > [_] Type command, skill name, or search projects...                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  [ğŸ“Š Portfolio Analytics]  [âš™ï¸ Settings]  [ğŸ“œ Command History]  [ğŸ”” Notifications]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Project Details Panel (Click [ğŸ“Š Details])

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  nonprofit-matcher - Project Details                            [âœ• Close]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Overview                   â”‚  Real-Time Progress                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Status: Running       â”‚  â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 3/11 specs (27%)     â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Agent: Ralph          â”‚  â”‚  â”‚ ETA: ~45 minutes                   â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Model: gemini-2.5-flashâ”‚  â”‚  â”‚ Current: CR-02-typography         â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Started: 2h 34m ago   â”‚  â”‚  â”‚ Phase: Running E2E tests...        â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Cost: $0.14 / ~$0.50  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚  â”‚ Tokens: 45,231        â”‚  â”‚                                          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  Spec Timeline:                          â”‚   â”‚
â”‚  â”‚                             â”‚  [âœ“ CR-01] [â†’ CR-02] [  CR-03] [  CR-04]â”‚   â”‚
â”‚  â”‚  Current Spec:               â”‚                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  Live Logs:                              â”‚   â”‚
â”‚  â”‚  â”‚ CR-02-typography      â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Status: In Progress   â”‚  â”‚  â”‚ [23:14:42] Running E2E tests...    â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Attempt: 2/3          â”‚  â”‚  â”‚ [23:14:49] âŒ E2E tests failed      â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Phase: Testing        â”‚  â”‚  â”‚ [23:15:46] CR created: CR-fix...    â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ Duration: 3m 14s      â”‚  â”‚  â”‚ [23:16:02] Retrying with fix...     â”‚ â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Command Center                                                            â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚ â”‚ â¸ Pause         â”‚ â–¶ Resume        â”‚ â­ Skip Current  â”‚ â¹ Stop        â”‚â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ”„ Retry Spec    â”‚ ğŸ” View Logs    â”‚ ğŸ› Debug Mode    â”‚ ğŸ“Š Analytics  â”‚â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Custom Command                                                             â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ Send custom command to Ralph...                                       â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Auto-send in: 15s (typing resets timer)              [Send] [Cancel] â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Agent Assignment                                                           â”‚  â”‚
â”‚  â”‚  Current Agent: Ralph (gemini-2.5-flash)                                  â”‚  â”‚
â”‚  â”‚  Change Agent: [Ralph â–¼] [Claude] [Cursor] [Terminal]                     â”‚  â”‚
â”‚  â”‚  Model: [gemini-2.5-flash â–¼] [claude-opus-4.5] [agent-x]                 â”‚  â”‚
â”‚  â”‚                    [Reassign]                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Spec History (Last 5)                                                     â”‚  â”‚
â”‚  â”‚  âœ“ CR-01-setup (completed) - 2m 34s - $0.02                              â”‚  â”‚
â”‚  â”‚  â†’ CR-02-typography (in progress) - 3m 14s - $0.04                       â”‚  â”‚
â”‚  â”‚    CR-03-components (pending)                                             â”‚  â”‚
â”‚  â”‚    CR-04-state-management (pending)                                      â”‚  â”‚
â”‚  â”‚    CR-05-routing (pending)                                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Per-Project Controls

### 2.1 Quick Actions (Always Visible)

| Button | Command | Description | Availability |
|--------|---------|-------------|--------------|
| â¸ Pause | `/pause` | Pause execution at next safe point | Running projects |
| â–¶ Resume | `/resume` | Continue from pause | Paused projects |
| â­ Skip | `/skip` | Skip current spec and move to next | Running projects |
| â¹ Stop | `/stop` | Abort entire build | Running/Paused projects |
| ğŸ”„ Retry | `/retry <spec-id>` | Retry a failed spec | Failed projects |
| ğŸ”„ Restart | `/restart` | Restart entire project from scratch | Completed/Failed projects |
| ğŸ” Logs | `/logs` | Show full logs for current spec | All projects |
| ğŸ› Debug | `/debug` | Enter debug mode (verbose logging) | Running/Failed projects |
| ğŸ“Š Analytics | `/analytics` | Open detailed analytics panel | All projects |
| ğŸ“„ Report | `/report` | Generate PDF/Markdown report | Completed projects |
| ğŸ—‘ï¸ Archive | `/archive` | Archive completed project | Completed projects |

### 2.2 Advanced Controls (Dropdown Menu [â‹®])

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Project Actions                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  â¸ Pause at Next Checkpoint        â”‚
â”‚  â­ Skip to Spec...                 â”‚
â”‚  â¹ Stop After Current Spec         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  ğŸ”„ Retry Failed Specs              â”‚
â”‚  ğŸ”„ Retry from Spec...              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  ğŸ” View Full Logs                  â”‚
â”‚  ğŸ” View Error Summary              â”‚
â”‚  ğŸ› Enter Debug Mode                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  ğŸ‘¤ Change Agent...                 â”‚
â”‚  âš™ï¸ Project Settings...             â”‚
â”‚  ğŸ“¤ Export Data (CSV/JSON)          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  ğŸ“Š Compare with Other Runs         â”‚
â”‚  ğŸ”„ Duplicate Configuration         â”‚
â”‚  ğŸ—‘ï¸ Delete Project History         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Context-Aware Actions

Actions change based on project state:

| State | Available Actions | Hidden/Disabled Actions |
|-------|-------------------|------------------------|
| **Running** | Pause, Skip, Stop, Logs, Debug | Resume, Retry, Restart |
| **Paused** | Resume, Skip, Stop, Restart | Pause, Retry |
| **Failed** | Retry, Debug, Logs, Restart | Pause, Resume, Skip |
| **Completed** | Restart, Report, Rebuild, Archive | Pause, Resume, Skip, Stop |
| **Waiting** (Agent assigned but idle) | Start, Reassign, Delete | Pause, Resume, Skip |

---

## 3. Command Sending System

### 3.1 Custom Command Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Custom Command Sender                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Target Project: [nonprofit-matcher â–¼]                                        â”‚
â”‚  Target Agent: [Ralph â–¼]                                                      â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Command Type:                                                              â”‚  â”‚
â”‚  â”‚ â—‹ Query (ask agent about itself)                                          â”‚  â”‚
â”‚  â”‚ â—‰ Execution (send command to run)                                         â”‚  â”‚
â”‚  â”‚ â—‹ Skill Invocation (run specific skill)                                   â”‚  â”‚
â”‚  â”‚ â—‹ Natural Language (free-form instruction)                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Command:                                                                   â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚                                                                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                                        â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚ Examples:                                                                â”‚  â”‚
â”‚  â”‚ â€¢ "Skip CR-02 and continue to CR-03"                                    â”‚  â”‚
â”‚  â”‚ â€¢ "design-check http://localhost:3000"                                  â”‚  â”‚
â”‚  â”‚ â€¢ "/retry CR-02"                                                        â”‚  â”‚
â”‚  â”‚ â€¢ "Run the full test suite and report results"                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  Timeout: [15â”€â”€â—â”€â”€] seconds (0 = no timeout)                                   â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Response Preview (real-time)                                              â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚                                                                        â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  [Send Command]  [Save as Macro]  [Clear]  [Cancel]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Command Templates

Pre-built commands for common operations:

```typescript
const commandTemplates = {
  // Spec Management
  skipToSpec: {
    name: "Skip to Spec",
    template: "/skip {currentSpec} && /start {targetSpec}",
    params: ["targetSpec"],
    description: "Skip current spec and start target spec"
  },

  retryFailed: {
    name: "Retry Failed Specs",
    template: "/retry --failed-only",
    description: "Retry all failed specs in current session"
  },

  changeModel: {
    name: "Change Model",
    template: "/set-model {model}",
    params: ["model"],
    description: "Switch to different model for remaining specs"
  },

  // Skills
  designCheck: {
    name: "Design Check",
    template: "design-check {url}",
    params: ["url"],
    description: "Run design-check skill on URL"
  },

  e2eTests: {
    name: "Run E2E Tests",
    template: "npm run test:e2e && /report-results",
    description: "Run full E2E test suite and report results"
  },

  // Queries
  tokenUsage: {
    name: "Token Usage",
    template: "/tokens --breakdown-by-spec",
    description: "Show detailed token usage by spec"
  },

  performanceReport: {
    name: "Performance Report",
    template: "/analytics --duration --cost --success-rate",
    description: "Generate performance analytics report"
  }
};
```

### 3.3 Command Syntax Reference

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Command Syntax Reference                                        [âœ• Close]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Query Commands (ask agent about itself)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ /status                    â†’ Show current status and progress             â”‚  â”‚
â”‚  â”‚ /tokens [options]          â†’ Show token usage                             â”‚  â”‚
â”‚  â”‚   --breakdown-by-spec        Breakdown by spec                            â”‚  â”‚
â”‚  â”‚   --projected                Projected total cost                         â”‚  â”‚
â”‚  â”‚ /logs [spec-id]             â†’ Show logs for spec                          â”‚  â”‚
â”‚  â”‚ /eta                       â†’ Show estimated time remaining                â”‚  â”‚
â”‚  â”‚ /errors                     â†’ Show error summary                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  Execution Commands (send command to run)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ /pause                     â†’ Pause at next safe point                     â”‚  â”‚
â”‚  â”‚ /resume                    â†’ Continue from pause                          â”‚  â”‚
â”‚  â”‚ /skip [spec-id]            â†’ Skip current or specific spec                â”‚  â”‚
â”‚  â”‚ /stop                      â†’ Abort entire build                           â”‚  â”‚
â”‚  â”‚ /retry [spec-id]           â†’ Retry current or specific spec               â”‚  â”‚
â”‚  â”‚ /restart                   â†’ Restart entire project from scratch          â”‚  â”‚
â”‚  â”‚ /set-model {model}          â†’ Change model for remaining specs            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  Skill Invocations (run specific skill)                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ design-check {url}         â†’ Run design-check skill on URL                â”‚  â”‚
â”‚  â”‚ e2e-test {suite}            â†’ Run E2E test suite                          â”‚  â”‚
â”‚  â”‚ /commit [message]           â†’ Trigger commit skill (Claude)               â”‚  â”‚
â”‚  â”‚ /review-pr {pr-number}      â†’ Trigger PR review skill (Claude)            â”‚  â”‚
â”‚  â”‚ /refactor {file}            â†’ Trigger refactor skill (Claude)             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  Natural Language (free-form instructions)                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ "Skip CR-02 and continue to CR-03"                                        â”‚  â”‚
â”‚  â”‚ "Run the full test suite and report results"                              â”‚  â”‚
â”‚  â”‚ "Change to gemini-2.5-flash model for remaining specs"                    â”‚  â”‚
â”‚  â”‚ "Debug why CR-02 is failing and show me the logs"                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  [Copy Command]  [Insert to Editor]  [Close]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Bulk Operations

### 4.1 Multi-Select Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mission Control - Bulk Operations                              [3 selected]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Selected Projects:                                                             â”‚
â”‚  â˜‘ nonprofit-matcher (Running - Ralph)                                        â”‚
â”‚  â˜‘ project-alpha-prototype (Paused - Claude)                                  â”‚
â”‚  â˜‘ dashboard-analytics (Completed - Ralph)                                    â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Bulk Actions                                                               â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ â¸ Pause All    â”‚ â–¶ Resume All   â”‚ â¹ Stop All     â”‚ ğŸ”„ Restart All  â”‚ â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ‘¤ Reassign     â”‚ ğŸ“Š Compare      â”‚ ğŸ“¤ Export Data  â”‚ ğŸ—‘ï¸ Delete        â”‚ â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Reassignment Wizard                                                        â”‚  â”‚
â”‚  â”‚  Current Agent Distribution:                                              â”‚  â”‚
â”‚  â”‚  â€¢ Ralph: 2 projects                                                      â”‚  â”‚
â”‚  â”‚  â€¢ Claude: 1 project                                                      â”‚  â”‚
â”‚  â”‚  â€¢ Cursor: 0 projects                                                      â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  New Agent Assignment:                                                    â”‚  â”‚
â”‚  â”‚  Target Agent: [Cursor â–¼]                                                 â”‚  â”‚
â”‚  â”‚  Model: [agent-x â–¼]                                                       â”‚  â”‚
â”‚  â”‚  Strategy: â—‹ Reassign all                                               â”‚  â”‚
â”‚  â”‚            â—‰ Smart balance (distribute by priority)                     â”‚  â”‚
â”‚  â”‚            â—‹ Manual (select projects individually)                      â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  Priority Order:                                                          â”‚  â”‚
â”‚  â”‚  1. nonprofit-matcher (high priority - running)                           â”‚  â”‚
â”‚  â”‚  2. project-alpha-prototype (medium priority - paused)                    â”‚  â”‚
â”‚  â”‚  3. dashboard-analytics (low priority - completed)                        â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  [Preview Changes]  [Execute Reassignment]  [Cancel]                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Comparison Report                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Metric                    | nonprofit-matcher | project-alpha |    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Status                    | Running           | Paused         â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Progress                  | 3/11 (27%)        | 8/15 (53%)     â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Agent                     | Ralph             | Claude         â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Duration                  | 2h 34m            | 5h 12m         â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Cost                      | $0.14             | $0.32          â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Success Rate              | 91%               | 87%            â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  [Export Comparison (CSV)]  [Generate Visual Chart]  [Close]              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Bulk Command Operations

Send the same command to multiple projects:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bulk Command Sender                                              [3 selected]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Selected Projects:                                                             â”‚
â”‚  â˜‘ nonprofit-matcher (Ralph)                                                  â”‚
â”‚  â˜‘ project-alpha-prototype (Claude)                                           â”‚
â”‚  â˜‘ api-gateway-refactor (Ralph)                                               â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Command to Send:                                                           â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ /pause                                                                 â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚ Execution Strategy:                                                      â”‚  â”‚
â”‚  â”‚ â—‰ Parallel (send to all simultaneously)                                â”‚  â”‚
â”‚  â”‚ â—‹ Sequential (wait for each to complete)                               â”‚  â”‚
â”‚  â”‚ â—‹ Smart (adapt based on agent type)                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Response Preview (real-time)                                              â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ nonprofit-matcher: Paused at CR-02 (2/11 specs)                     â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ project-alpha-prototype: Paused at CR-08 (8/15 specs)               â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ api-gateway-refactor: Paused at CR-03 (2/7 specs)                  â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ âœ“ All 3 projects paused successfully                                  â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  [Send Command]  [Save as Macro]  [Clear]  [Cancel]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Bulk Export

Export data from multiple projects:

```typescript
interface BulkExportOptions {
  projects: string[];        // Selected project IDs
  format: 'csv' | 'json' | 'pdf';
  includeFields: {
    specHistory: boolean;
    commandHistory: boolean;
    analytics: boolean;
    errors: boolean;
    costData: boolean;
  };
  dateRange?: {
    start: Date;
    end: Date;
  };
  aggregateMetrics: boolean; // Combine all projects into summary
}
```

---

## 5. Command History

### 5.1 Command History Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Command History                                          [Filter] [Export]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Filter: [All Projects] [All Agents] [All Commands] [All Time]              â”‚  â”‚
â”‚  Search: [â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”]                                               â”‚  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Time          â”‚ Project             â”‚ Agent â”‚ Command       â”‚ Status    â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ 2m ago        â”‚ nonprofit-matcher   â”‚ Ralph â”‚ /pause        â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 5m ago        â”‚ project-alpha       â”‚Claude â”‚ design-check  â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 8m ago        â”‚ api-gateway-refactorâ”‚ Ralph â”‚ /retry CR-03  â”‚ âœ— Failed â”‚  â”‚
â”‚  â”‚ 12m ago       â”‚ nonprofit-matcher   â”‚ Ralph â”‚ /skip         â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 15m ago       â”‚ dashboard-analytics â”‚ Ralph â”‚ /status       â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 18m ago       â”‚ project-alpha       â”‚Claude â”‚ /commit       â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 22m ago       â”‚ nonprofit-matcher   â”‚ Ralph â”‚ /logs CR-02   â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 25m ago       â”‚ api-gateway-refactorâ”‚ Ralph â”‚ /debug        â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 30m ago       â”‚ project-alpha       â”‚Claude â”‚ /review-pr    â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ 35m ago       â”‚ nonprofit-matcher   â”‚ Ralph â”‚ /tokens       â”‚ âœ“ Successâ”‚  â”‚
â”‚  â”‚ [Load More...]                                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Command Details (click any row to view)                                  â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ Command: /retry CR-03                                                â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Project: api-gateway-refactor                                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Agent: Ralph (gemini-2.5-flash)                                      â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Time: 2026-01-30 14:23:15 UTC                                        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                                      â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Input:                                                                â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ POST /api/ralph/control                                              â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ {                                                                    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚   "action": "retry",                                                 â”‚ â”‚  â”‚
â”‚  â”‚ â”‚   "specId": "CR-03",                                                 â”‚ â”‚  â”‚
â”‚  â”‚ â”‚   "projectId": "api-gateway-refactor"                                â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ }                                                                    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                                      â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Response:                                                             â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ {                                                                    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚   "status": "error",                                                 â”‚ â”‚  â”‚
â”‚  â”‚ â”‚   "error": "Spec CR-03 not found in current session",                â”‚ â”‚  â”‚
â”‚  â”‚ â”‚   "availableSpecs": ["CR-01", "CR-02"]                               â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ }                                                                    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                                                                      â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ [Retry Command]  [View in Context]  [Export]                         â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  Statistics:                                                                    â”‚
â”‚  Total Commands: 1,247  |  Success Rate: 94.2%  |  Most Used: /status (143)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Command History API

```typescript
interface CommandHistoryEntry {
  id: string;
  timestamp: Date;
  projectId: string;
  projectName: string;
  agentType: 'ralph' | 'claude' | 'cursor' | 'terminal';
  agentModel: string;
  command: string;
  commandType: 'query' | 'execution' | 'skill' | 'natural-language';
  input: {
    method: 'api' | 'cli' | 'websocket' | 'bulk';
    userId?: string;
    sessionId: string;
  };
  response: {
    status: 'success' | 'error' | 'timeout';
    data?: any;
    error?: string;
    duration: number; // milliseconds
  };
  context: {
    projectState: string;
    currentSpec?: string;
    progress: string;
  };
}

// API Endpoints
GET  /api/command-history                    // List all commands
GET  /api/command-history/:id                // Get specific command
POST /api/command-history/retry/:id          // Retry a command
GET  /api/command-history/stats              // Usage statistics
GET  /api/command-history/export             // Export to CSV/JSON
```

---

## 6. Agent Management

### 6.1 Agent Assignment Interface

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Assignment Manager                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Current Agent Fleet                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Agent         â”‚ Status  â”‚ Projects â”‚ Load â”‚ Model(s)                     â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ Ralph         â”‚ Active  â”‚ 3/5      â”‚ 60%  â”‚ gemini-2.5-flash (2)         â”‚  â”‚
â”‚  â”‚               â”‚         â”‚          â”‚      â”‚ gemini-2.5-pro (1)           â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ Claude        â”‚ Idle    â”‚ 1/5      â”‚ 20%  â”‚ claude-opus-4.5 (1)          â”‚  â”‚
â”‚  â”‚               â”‚         â”‚          â”‚      â”‚                              â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ Cursor        â”‚ Active  â”‚ 1/5      â”‚ 20%  â”‚ agent-x (1)                  â”‚  â”‚
â”‚  â”‚               â”‚         â”‚          â”‚      â”‚                              â”‚  â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚
â”‚  â”‚ Terminal      â”‚ Idle    â”‚ 0/5      â”‚ 0%   â”‚ -                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Assign New Project                                                        â”‚  â”‚
â”‚  â”‚  Project: [nonprofit-matcher â–¼]                                          â”‚  â”‚
â”‚  â”‚  Agent: [Ralph â–¼]                                                        â”‚  â”‚
â”‚  â”‚  Model: [gemini-2.5-flash â–¼]                                             â”‚  â”‚
â”‚  â”‚  Priority: [Medium â–¼]                                                    â”‚  â”‚
â”‚  â”‚  Auto-start: â˜‘                                                           â”‚  â”‚
â”‚  â”‚                    [Assign]                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Reassignment Wizard                                                        â”‚  â”‚
â”‚  â”‚  Step 1: Select Projects                                                  â”‚  â”‚
â”‚  â”‚  â˜‘ nonprofit-matcher (Ralph)                                             â”‚  â”‚
â”‚  â”‚  â˜‘ project-alpha (Claude)                                                â”‚  â”‚
â”‚  â”‚  â˜ api-gateway-refactor (Ralph)                                          â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  Step 2: Choose Target Agent                                              â”‚  â”‚
â”‚  â”‚  Target: [Cursor â–¼]                                                       â”‚  â”‚
â”‚  â”‚  Model: [agent-x â–¼]                                                       â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  Step 3: Reassignment Strategy                                            â”‚  â”‚
â”‚  â”‚  â—‰ Smart balance (distribute by priority/load)                           â”‚  â”‚
â”‚  â”‚  â—‹ Round-robin (equal distribution)                                      â”‚  â”‚
â”‚  â”‚  â—‹ Manual (specify order)                                                â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  Preview:                                                                 â”‚  â”‚
â”‚  â”‚  â€¢ nonprofit-matcher â†’ Cursor (agent-x) [Priority: High]                 â”‚  â”‚
â”‚  â”‚  â€¢ project-alpha â†’ Cursor (agent-x) [Priority: Medium]                  â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  Warning: Cursor is currently at 20% load. After reassignment: 40%       â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  [Back]  [Execute Reassignment]                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 Agent Pool Management

```typescript
interface AgentPool {
  agents: {
    [agentType: string]: AgentInstance;
  };
  projects: {
    [projectId: string]: ProjectAssignment;
  };
  loadBalancing: LoadBalancingStrategy;
}

interface AgentInstance {
  id: string;
  type: 'ralph' | 'claude' | 'cursor' | 'terminal';
  model: string;
  status: 'active' | 'idle' | 'offline' | 'maintenance';
  currentLoad: number; // 0-100
  maxCapacity: number; // max concurrent projects
  assignedProjects: string[];
  capabilities: string[]; // what this agent can do
}

interface ProjectAssignment {
  projectId: string;
  assignedAgent: string;
  assignedModel: string;
  priority: 'low' | 'medium' | 'high' | 'critical';
  status: 'queued' | 'running' | 'paused' | 'completed';
  assignedAt: Date;
}

type LoadBalancingStrategy =
  | 'round-robin'           // Equal distribution
  | 'priority-based'        // Higher priority projects first
  | 'load-aware'            // Assign to least loaded agent
  | 'capability-match'      // Match agent capabilities to project needs
  | 'manual';               // User specifies assignments
```

### 6.3 Agent Capability Matrix

| Agent | Models | Max Projects | Capabilities |
|-------|--------|--------------|--------------|
| **Ralph** | gemini-2.5-flash, gemini-2.5-pro | 5 | Spec orchestration, automated builds, test running |
| **Claude** | claude-opus-4.5, claude-sonnet-4.0 | 3 | Code review, debugging, natural language tasks, complex reasoning |
| **Cursor** | agent-x, agent-fast | 3 | File operations, IDE integration, refactoring |
| **Terminal** | - | 10 | Command execution, script running, build processes |

---

## 7. Project State Machine

### 7.1 State Transition Diagram

```mermaid
stateDiagram-v2
    [*] --> Idle: Project Created

    Idle --> Queued: Agent Assigned
    Queued --> Running: Agent Starts
    Queued --> Idle: Agent Unassigned

    Running --> Paused: /pause command
    Running --> Completed: All specs complete
    Running --> Failed: Critical error
    Running --> Running: Spec complete â†’ Next spec

    Paused --> Running: /resume command
    Paused --> Failed: Timeout (configurable)
    Paused --> Stopped: /stop command

    Failed --> Running: /retry command
    Failed --> Stopped: User aborts
    Failed --> Failed: Retry failed (max attempts reached)

    Completed --> Archived: /archive command
    Completed --> Running: /restart command

    Stopped --> Idle: Reset
    Stopped --> Running: /restart command

    Archived --> [*]: Project deleted

    note right of Running
        Can receive:
        - /pause
        - /skip
        - /stop
        - /retry
        - Custom commands
    end note

    note right of Paused
        Waiting state
        Auto-resume on timeout
        Can be resumed manually
    end note
```

### 7.2 State Definitions

| State | Description | Allowed Transitions | Timeout |
|-------|-------------|---------------------|---------|
| **Idle** | Project created, no agent assigned | â†’ Queued | None |
| **Queued** | Agent assigned, waiting to start | â†’ Running, â†’ Idle | Configurable (default: 5m) |
| **Running** | Agent actively working on specs | â†’ Paused, â†’ Completed, â†’ Failed | None |
| **Paused** | Execution paused, waiting for resume | â†’ Running, â†’ Stopped | Configurable (default: 30m) |
| **Failed** | Spec failed, awaiting action | â†’ Running (retry), â†’ Stopped | None |
| **Completed** | All specs completed successfully | â†’ Archived, â†’ Running (restart) | None |
| **Stopped** | Execution aborted by user | â†’ Idle, â†’ Running | None |
| **Archived** | Project history archived | â†’ [*] (deleted) | None |

### 7.3 State Transition API

```typescript
interface StateTransition {
  from: ProjectState;
  to: ProjectState;
  trigger: StateTrigger;
  validation: () => Promise<boolean>;
  onEnter: () => Promise<void>;
  onExit: () => Promise<void>;
}

type StateTrigger =
  | 'command'           // User command (pause, resume, etc.)
  | 'automatic'         // System triggered (spec complete, error, etc.)
  | 'timeout'           // State timeout expired
  | 'manual'            // Manual state change (admin only)
  | 'retry';            // Retry failed operation

// State Machine Implementation
class ProjectStateMachine {
  private currentState: ProjectState;
  private transitions: Map<string, StateTransition>;

  async transition(trigger: StateTrigger, context?: any): Promise<boolean> {
    const transition = this.findTransition(this.currentState, trigger);

    if (!transition) {
      throw new Error(`Invalid transition from ${this.currentState} via ${trigger}`);
    }

    // Validate transition
    const valid = await transition.validation();
    if (!valid) {
      return false;
    }

    // Exit current state
    await transition.onExit();

    // Update state
    this.currentState = transition.to;

    // Enter new state
    await transition.onEnter();

    return true;
  }
}
```

---

## 8. API Endpoint Design

### 8.1 Mission Control API

```typescript
// Base URL: http://192.168.206.128:8002/api/mission-control

// Project Management
GET    /projects                          // List all projects
POST   /projects                          // Create new project
GET    /projects/:id                      // Get project details
PUT    /projects/:id                      // Update project config
DELETE /projects/:id                      // Delete project
POST   /projects/:id/start                // Start project
POST   /projects/:id/stop                 // Stop project
POST   /projects/:id/restart              // Restart project
POST   /projects/:id/archive              // Archive project

// Project Controls
POST   /projects/:id/pause                // Pause project
POST   /projects/:id/resume               // Resume project
POST   /projects/:id/skip                 // Skip current spec
POST   /projects/:id/retry                // Retry failed spec(s)

// Command Sending
POST   /projects/:id/command              // Send custom command
POST   /projects/:id/query                // Send query command
POST   /projects/:id/skill                // Invoke skill

// Bulk Operations
POST   /bulk/pause                        // Pause multiple projects
POST   /bulk/resume                       // Resume multiple projects
POST   /bulk/stop                         // Stop multiple projects
POST   /bulk/command                      // Send command to multiple projects
POST   /bulk/reassign                     // Reassign projects to agent
POST   /bulk/export                       // Export multiple projects

// Agent Management
GET    /agents                            // List all agents
GET    /agents/:type                      // Get agent details
POST   /agents/:type/assign               // Assign project to agent
POST   /agents/:type/unassign             // Unassign project from agent
GET    /agents/pool/status                // Get agent pool status
POST   /agents/pool/rebalance             // Rebalance agent pool

// Command History
GET    /command-history                   // List command history
GET    /command-history/:id               // Get command details
POST   /command-history/:id/retry         // Retry command
GET    /command-history/stats             // Get usage statistics
GET    /command-history/export            // Export command history

// State Machine
GET    /projects/:id/state                // Get current state
POST   /projects/:id/state/transition     // Trigger state transition
GET    /projects/:id/state/history        // Get state history

// Analytics
GET    /projects/:id/analytics            // Get project analytics
GET    /portfolio/analytics               // Get portfolio analytics
POST   /portfolio/compare                 // Compare multiple projects

// Quota & Rate Limit Management (NEW)
GET    /quota                             // Get all quota statuses
GET    /quota/:provider                   // Get specific provider quota
GET    /quota/:provider/history           // Get quota history
POST   /quota/configure                   // Configure quota alerts
GET    /quota/events                      // Get rate limit events
POST   /quota/events/:id/resolve          // Mark rate limit event as resolved
GET    /quota/alerts                      // Get alert history
POST   /quota/alerts/test                 // Send test alert
POST   /quota/alerts/:id/acknowledge      // Acknowledge alert
POST   /quota/pause-provider              // Pause all projects using provider
POST   /quota/throttle-provider            // Throttle provider requests
POST   /quota/pause-low-priority          // Pause low priority projects

// Request Queue Management
GET    /request-queue                     // Get queued requests
POST   /request-queue/:id/cancel          // Cancel queued request
POST   /request-queue/priority            // Adjust request priority
```

### 8.2 Request/Response Examples

#### Example 1: Send Custom Command

```bash
# Request
POST /api/mission-control/projects/nonprofit-matcher/command
Content-Type: application/json

{
  "command": "design-check http://localhost:3000",
  "commandType": "skill",
  "timeout": 30,
  "userId": "user-123"
}

# Response
{
  "success": true,
  "commandId": "cmd-456",
  "status": "executing",
  "estimatedDuration": 45,
  "project": {
    "id": "nonprofit-matcher",
    "name": "nonprofit-matcher",
    "state": "running",
    "currentSpec": "CR-02-typography"
  }
}
```

#### Example 2: Bulk Pause

```bash
# Request
POST /api/mission-control/bulk/pause
Content-Type: application/json

{
  "projectIds": [
    "nonprofit-matcher",
    "project-alpha-prototype",
    "api-gateway-refactor"
  ],
  "strategy": "parallel",
  "userId": "user-123"
}

# Response
{
  "success": true,
  "results": [
    {
      "projectId": "nonprofit-matcher",
      "status": "paused",
      "previousState": "running"
    },
    {
      "projectId": "project-alpha-prototype",
      "status": "paused",
      "previousState": "running"
    },
    {
      "projectId": "api-gateway-refactor",
      "status": "error",
      "error": "Project already paused"
    }
  ],
  "summary": {
    "total": 3,
    "succeeded": 2,
    "failed": 1
  }
}
```

#### Example 3: Agent Reassignment

```bash
# Request
POST /api/mission-control/agents/pool/rebalance
Content-Type: application/json

{
  "strategy": "load-aware",
  "targetAgent": "cursor",
  "model": "agent-x",
  "projectIds": [
    "nonprofit-matcher",
    "project-alpha-prototype"
  ]
}

# Response
{
  "success": true,
  "reassignments": [
    {
      "projectId": "nonprofit-matcher",
      "fromAgent": "ralph",
      "toAgent": "cursor",
      "fromModel": "gemini-2.5-flash",
      "toModel": "agent-x",
      "reason": "load-balancing"
    },
    {
      "projectId": "project-alpha-prototype",
      "fromAgent": "claude",
      "toAgent": "cursor",
      "fromModel": "claude-opus-4.5",
      "toModel": "agent-x",
      "reason": "load-balancing"
    }
  ],
  "poolStatus": {
    "ralph": {
      "load": 20,
      "projects": 1
    },
    "claude": {
      "load": 0,
      "projects": 0
    },
    "cursor": {
      "load": 40,
      "projects": 2
    }
  }
}
```

---

## 9. Integration Architecture

### 9.1 System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Mission Control System                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Mission Control Dashboard (Next.js)                                      â”‚  â”‚
â”‚  â”‚ â€¢ Project portfolio view                                                  â”‚  â”‚
â”‚  â”‚ â€¢ Per-project controls                                                   â”‚  â”‚
â”‚  â”‚ â€¢ Bulk operations                                                         â”‚  â”‚
â”‚  â”‚ â€¢ Command history                                                         â”‚  â”‚
â”‚  â”‚ â€¢ Agent management                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                                          â”‚
â”‚                                    â”‚ WebSocket / REST                        â”‚
â”‚                                    â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Mission Control API (FastAPI)                                            â”‚  â”‚
â”‚  â”‚ Port: 8002                                                                â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚ Command Router                                                       â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Validates commands                                                 â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Routes to appropriate agent                                         â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Handles bulk operations                                             â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚ State Machine Manager                                                â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Tracks project states                                              â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Handles state transitions                                          â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Validates transitions                                              â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚ Agent Pool Manager                                                   â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Assigns projects to agents                                         â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Load balancing                                                     â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ â€¢ Capacity management                                                â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                                          â”‚
â”‚                                    â”‚ Commands / Queries                      â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚                          â”‚                          â”‚               â”‚
â”‚         â–¼                          â–¼                          â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  Ralph      â”‚           â”‚  Claude     â”‚           â”‚  Cursor     â”‚           â”‚
â”‚  â”‚  Control    â”‚           â”‚  Control    â”‚           â”‚  Control    â”‚           â”‚
â”‚  â”‚  (tmux)     â”‚           â”‚  (stdin)    â”‚           â”‚  (tmux)     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚         â”‚                          â”‚                          â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                    â”‚                                          â”‚
â”‚                                    â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PostgreSQL Database (Source of Truth)                                   â”‚  â”‚
â”‚  â”‚ â€¢ projects table                                                        â”‚  â”‚
â”‚  â”‚ â€¢ project_states table                                                  â”‚  â”‚
â”‚  â”‚ â€¢ command_history table                                                 â”‚  â”‚
â”‚  â”‚ â€¢ agent_assignments table                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 Data Flow

#### Command Flow

```
User clicks [Pause] button
        â†“
Dashboard sends POST /api/mission-control/projects/:id/pause
        â†“
Mission Control API receives request
        â†“
State Machine validates transition (Running â†’ Paused)
        â†“
Command Router routes to Ralph Control API
        â†“
Ralph Control API sends: tmux send-keys -t ralph "/pause"
        â†“
Ralph processes pause command
        â†“
Ralph emits event: spec_paused
        â†“
Event stored to PostgreSQL (command_history table)
        â†“
WebSocket broadcasts event to dashboard
        â†“
Dashboard updates UI: Status â†’ Paused
```

#### Bulk Operation Flow

```
User selects 3 projects, clicks [Pause All]
        â†“
Dashboard sends POST /api/mission-control/bulk/pause
        â†“
Mission Control API receives request with projectIds array
        â†“
Agent Pool Manager validates all projects can be paused
        â†“
Command Router creates parallel tasks for each project
        â†“
Each task: POST /api/mission-control/projects/:id/pause
        â†“
All commands sent to respective agents
        â†“
Responses collected and aggregated
        â†“
Result returned to dashboard:
  {
    succeeded: [project1, project2],
    failed: [project3],
    summary: {total: 3, succeeded: 2, failed: 1}
  }
        â†“
Dashboard updates UI with results
```

### 9.3 Integration with Existing Systems

#### With Ralph (from Phase 1-4)

```typescript
// Ralph Integration
class RalphControlIntegration {
  // Existing Ralph Control API endpoints (port 8002)
  private ralphApiUrl = 'http://localhost:8002/api/ralph';

  async sendCommand(projectId: string, command: string): Promise<CommandResult> {
    // Route to Ralph's existing control API
    const response = await fetch(`${this.ralphApiUrl}/control`, {
      method: 'POST',
      body: JSON.stringify({
        action: 'intervention',
        instruction: command,
        sessionId: projectId
      })
    });

    // Store to command history
    await this.storeCommandHistory({
      projectId,
      agent: 'ralph',
      command,
      response: await response.json()
    });

    return response.json();
  }

  async getState(projectId: string): Promise<ProjectState> {
    // Query Ralph's state file
    const response = await fetch(`${this.ralphApiUrl}/query/status`, {
      method: 'POST',
      body: JSON.stringify({ sessionId: projectId })
    });

    return response.json();
  }
}
```

#### With Multi-Agent Control (from Phase 3)

```typescript
// Multi-Agent Integration
class MultiAgentIntegration {
  private agents: Map<AgentType, AgentControl>;

  constructor() {
    this.agents.set('ralph', new RalphControlIntegration());
    this.agents.set('claude', new ClaudeControlIntegration());
    this.agents.set('cursor', new CursorControlIntegration());
    this.agents.set('terminal', new TerminalControlIntegration());
  }

  async sendCommand(
    projectId: string,
    agentType: AgentType,
    command: string
  ): Promise<CommandResult> {
    const agent = this.agents.get(agentType);

    if (!agent) {
      throw new Error(`Unknown agent type: ${agentType}`);
    }

    return await agent.sendCommand(projectId, command);
  }

  async reassignProject(
    projectId: string,
    fromAgent: AgentType,
    toAgent: AgentType
  ): Promise<boolean> {
    // Stop project on current agent
    await this.agents.get(fromAgent).stop(projectId);

    // Update database assignment
    await db.agentAssignments.update({
      projectId,
      agentType: toAgent
    });

    // Start project on new agent
    await this.agents.get(toAgent).start(projectId);

    return true;
  }
}
```

---

## 10. Implementation Roadmap

### 10.1 Week-by-Week Breakdown

#### Week 1: Core Mission Control UI

**Days 1-2: Dashboard Layout**
- [ ] Project portfolio view (grid/list)
- [ ] Per-project control cards
- [ ] Filter/sort/search functionality
- [ ] Multi-select checkboxes

**Days 3-4: Command Sending**
- [ ] Custom command interface
- [ ] Command type selector (query/execution/skill/natural)
- [ ] Command syntax reference modal
- [ ] Response preview panel

**Days 5-7: Project Details Panel**
- [ ] Details modal/drawer
- [ ] Real-time progress display
- [ ] Spec timeline visualization
- [ ] Live logs viewer

**Deliverable:** Functional Mission Control UI with basic command sending

#### Week 2: State Machine & Agent Management

**Days 8-10: State Machine**
- [ ] State machine implementation
- [ ] State transition validation
- [ ] State history tracking
- [ ] State transition API

**Days 11-12: Agent Assignment**
- [ ] Agent pool manager
- [ ] Assignment wizard
- [ ] Load balancing strategies
- [ ] Agent capability matrix

**Days 13-14: Agent Controls**
- [ ] Per-project agent reassignment
- [ ] Bulk reassignment
- [ ] Agent status monitoring
- [ ] Capacity management

**Deliverable:** Complete agent management system with state machine

#### Week 3: Bulk Operations & Command History

**Days 15-17: Bulk Operations**
- [ ] Multi-select interface
- [ ] Bulk command sending
- [ ] Bulk pause/resume/stop
- [ ] Bulk export

**Days 18-19: Command History**
- [ ] Command logging (database)
- [ ] Command history dashboard
- [ ] Command replay functionality
- [ ] Usage statistics

**Days 20-21: Advanced Features**
- [ ] Command templates/macros
- [ ] Command scheduling
- [ ] Command chaining
- [ ] Command validation

**Deliverable:** Full bulk operations and command history system

#### Week 4: Polish & Integration

**Days 22-23: API Integration**
- [ ] Mission Control API (all endpoints)
- [ ] Integration with Ralph Control API
- [ ] Integration with Multi-Agent Control
- [ ] Database schema updates

**Days 24-25: UI Polish**
- [ ] Responsive design
- [ ] Loading states
- [ ] Error handling
- [ ] Accessibility

**Days 26-28: Testing & Documentation**
- [ ] End-to-end testing
- [ ] Performance testing
- [ ] User documentation
- [ ] API documentation

**Deliverable:** Production-ready Mission Control system

### 10.2 Database Schema Updates

```sql
-- Projects table (enhanced)
CREATE TABLE projects (
  id UUID PRIMARY KEY,
  name VARCHAR(255) NOT NULL UNIQUE,
  description TEXT,
  state VARCHAR(50) NOT NULL, -- idle, queued, running, paused, failed, completed, stopped, archived
  current_agent VARCHAR(50), -- ralph, claude, cursor, terminal
  current_model VARCHAR(100),
  priority VARCHAR(20) DEFAULT 'medium', -- low, medium, high, critical
  config JSONB DEFAULT '{}',
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  INDEX idx_projects_state (state),
  INDEX idx_projects_agent (current_agent),
  INDEX idx_projects_priority (priority)
);

-- Project state history
CREATE TABLE project_state_history (
  id BIGSERIAL PRIMARY KEY,
  project_id UUID REFERENCES projects(id) ON DELETE CASCADE,
  from_state VARCHAR(50),
  to_state VARCHAR(50) NOT NULL,
  trigger VARCHAR(50), -- command, automatic, timeout, manual, retry
  triggered_by VARCHAR(100),
  triggered_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  context JSONB DEFAULT '{}',
  INDEX idx_state_history_project (project_id, triggered_at DESC)
);

-- Agent assignments
CREATE TABLE agent_assignments (
  id BIGSERIAL PRIMARY KEY,
  project_id UUID REFERENCES projects(id) ON DELETE CASCADE,
  agent_type VARCHAR(50) NOT NULL, -- ralph, claude, cursor, terminal
  agent_model VARCHAR(100),
  assigned_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  unassigned_at TIMESTAMPTZ,
  status VARCHAR(50) DEFAULT 'active', -- active, inactive
  priority VARCHAR(20) DEFAULT 'medium',
  UNIQUE (project_id, assigned_at),
  INDEX idx_assignments_project (project_id),
  INDEX idx_assignments_agent (agent_type, status)
);

-- Command history (enhanced)
CREATE TABLE command_history (
  id UUID PRIMARY KEY,
  timestamp TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  project_id UUID REFERENCES projects(id) ON DELETE CASCADE,
  agent_type VARCHAR(50),
  agent_model VARCHAR(100),
  command TEXT NOT NULL,
  command_type VARCHAR(50), -- query, execution, skill, natural-language, bulk
  input JSONB,
  response JSONB,
  status VARCHAR(50), -- success, error, timeout
  duration_ms INTEGER,
  user_id UUID,
  session_id UUID,
  context JSONB DEFAULT '{}',
  INDEX idx_command_history_project (project_id, timestamp DESC),
  INDEX idx_command_history_agent (agent_type, timestamp DESC),
  INDEX idx_command_history_type (command_type, timestamp DESC)
);

-- Bulk operations
CREATE TABLE bulk_operations (
  id UUID PRIMARY KEY,
  operation_type VARCHAR(50) NOT NULL, -- pause, resume, stop, command, reassign, export
  project_ids UUID[] NOT NULL,
  strategy VARCHAR(50), -- parallel, sequential, smart
  status VARCHAR(50) DEFAULT 'pending', -- pending, running, completed, failed
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  started_at TIMESTAMPTZ,
  completed_at TIMESTAMPTZ,
  created_by UUID,
  results JSONB,
  INDEX idx_bulk_operations_status (status, created_at DESC)
);
```

### 10.3 Success Criteria

| Criteria | How to Verify |
|----------|---------------|
| **Project Portfolio View** | Dashboard shows all projects with status, progress, agent assignment |
| **Per-Project Controls** | All quick actions (pause, resume, skip, stop) work correctly |
| **Custom Command Sending** | Can send commands to specific projects and see responses |
| **Bulk Operations** | Can select multiple projects and pause/resume them all |
| **Command History** | Command history dashboard shows all past commands with details |
| **Agent Management** | Can assign/reassign projects to agents, view agent pool status |
| **State Machine** | All state transitions work correctly, state history tracked |
| **API Endpoints** | All Mission Control API endpoints functional and documented |
| **Integration** | Seamless integration with Ralph Control and Multi-Agent Control |
| **Performance** | Dashboard loads in <2s, commands execute in <5s |

---

## 11. Future Enhancements

### 11.1 Phase 6+ Features

**AI-Powered Recommendations**
- Suggest optimal agent assignments based on project requirements
- Recommend commands based on project state
- Predict project completion times with ML

**Advanced Analytics**
- Portfolio-wide analytics dashboards
- Cross-project comparison tools
- Trend analysis and forecasting

**Automation**
- Command scheduling (run commands at specific times)
- Command chaining (trigger commands based on events)
- Auto-retry policies with exponential backoff

**Collaboration**
- Multi-user support with permissions
- Team dashboards and shared views
- Audit logs and compliance reporting

**Mobile**
- Responsive mobile interface
- Mobile app (React Native)
- Push notifications for critical events

### 11.2 Integration Opportunities

**External Tools**
- Jira integration (create tickets from failed specs)
- Slack integration (notifications and commands)
- GitHub integration (PR status, commit tracking)

**CI/CD Pipelines**
- Jenkins integration
- GitHub Actions integration
- GitLab CI integration

**Monitoring**
- Prometheus metrics export
- Grafana dashboard templates
- Datadog integration

---

## 12. Conclusion

**Mission Control** transforms the Ralph Monitoring Dashboard from a simple monitoring tool into a comprehensive project portfolio management system. With full command capabilities, bulk operations, agent management, complete state tracking, and intelligent rate limit handling, users have unprecedented control over their autonomous agent fleet.

**Key Benefits:**
- **Unified Interface:** Control all projects and agents from one dashboard
- **Full Command Capability:** Send any command to any project
- **Bulk Operations:** Manage multiple projects simultaneously
- **Agent Management:** Assign/reassign agents based on capacity and capabilities
- **Complete State Tracking:** Know exactly what state each project is in
- **Command History:** Full audit trail of all commands and responses
- **Rate Limit Protection:** â­ NEW - Auto-detect 429 errors, retry with exponential backoff
- **Quota Monitoring:** â­ NEW - Real-time tracking per provider with projections
- **Request Queue:** â­ NEW - Throttle and queue requests when approaching limits
- **Auto-Pause:** â­ NEW - Automatically pause low-priority projects at quota threshold
- **Smart Alerts:** â­ NEW - Multi-channel alerts at 80%/90%/95% quota usage

**Production Ready:** This design is comprehensive, well-architected, and ready for implementation in Phase 5 of the Ralph Monitoring Dashboard project.

---

**Document Status:** âœ… Complete with Rate Limit Management
**Last Updated:** 2026-01-30
**Version:** 1.1
**New in v1.1:** Rate Limit & Quota Management (Section 7)
